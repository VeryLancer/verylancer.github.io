<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DARO - Puzzles</title>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/rocket-rinder" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body>

<div class="stars"></div>

<nav class="top-nav">
    <div class="nav-left">
        <a href="../index.html">
            <img src="../images/logo.png" alt="VeryLancer Logo" class="nav-logo" />
        </a>
        <a href="../index.html" style="text-decoration:none; color:inherit;">
            <span class="nav-name">VeryLancer</span>
        </a>
    </div>
</nav>

<section class="section game-page">
    <div class="game-header">
        <img src="../images/thumbnails/daro.png" alt="DARO Thumbnail" class="game-thumb">
        <div class="game-details">
            <h1>DARO - Puzzles</h1>
            <p>Solve mysteries to open door and see what is behind all doors</p>

            <div class="button-row">
                <a href="https://verylancer.itch.io/daro-puzzles" class="store-btn itch-btn">
                    <img src="../images/icons/itchio.png" alt=""> Itch.io
                </a>
            </div>
        </div>
    </div>

    <hr class="section-divider">
    
    <!-- ======= ABOUT GAME ======= -->
    <h2 class="section-title" style="margin-top:60px;">About Game</h2>

    <div class="about-game">
        <p class="desc">
            Welcome to DARO, a puzzle game involving doors. <br>
            Find a way to unlock all the doors and see what hides behind them all. <br>
            Look around in game and outside to find the clues to puzzles.
            <br><br> Made for Brackeys Game Jam 2024.1
        </p>
    </div>

    <hr class="section-divider">

    <!-- ======= SCREENSHOTS ======= -->
    <h2 class="section-title" style="margin-top:60px;">Screenshots</h2>
    <div class="screenshots">
        <img src="../images/daro-puzzles/Daro-ScreenShot-1.PNG" alt="PC Screenshot 1">
        <img src="../images/daro-puzzles/Daro-ScreenShot-2.PNG" alt="PC Screenshot 2">
        <img src="../images/daro-puzzles/Daro-ScreenShot-3.PNG" alt="PC Screenshot 3">
    </div>
</section>

<!-- ======= LIGHTBOX OVERLAY ======= -->
<div id="lightbox" class="lightbox">
    <span class="close">&times;</span>
    <img class="lightbox-img" alt="Expanded Screenshot">
    <div class="lightbox-nav">
        <span class="prev">&#10094;</span>
        <span class="next">&#10095;</span>
    </div>
</div>

<script>
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = lightbox.querySelector('.lightbox-img');
    const screenshots = document.querySelectorAll('.screenshots img');
    const closeBtn = lightbox.querySelector('.close');
    const prevBtn = lightbox.querySelector('.prev');
    const nextBtn = lightbox.querySelector('.next');

    let currentIndex = 0;

    function openLightbox(index) {
        currentIndex = index;
        lightbox.style.display = 'flex';
        lightboxImg.src = screenshots[index].src;
    }

    function closeLightbox() {
        lightbox.style.display = 'none';
    }

    function showNext() {
        currentIndex = (currentIndex + 1) % screenshots.length;
        lightboxImg.src = screenshots[currentIndex].src;
    }

    function showPrev() {
        currentIndex = (currentIndex - 1 + screenshots.length) % screenshots.length;
        lightboxImg.src = screenshots[currentIndex].src;
    }

    screenshots.forEach((img, i) => {
        img.addEventListener('click', () => openLightbox(i));
    });

    closeBtn.addEventListener('click', closeLightbox);
    nextBtn.addEventListener('click', showNext);
    prevBtn.addEventListener('click', showPrev);

    lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
    });

    document.addEventListener('keydown', (e) => {
        if (lightbox.style.display === 'flex') {
            if (e.key === 'ArrowRight') showNext();
            if (e.key === 'ArrowLeft') showPrev();
            if (e.key === 'Escape') closeLightbox();
        }
    });
</script>

</body>
</html>
